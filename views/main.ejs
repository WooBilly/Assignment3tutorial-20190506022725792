<!DOCTYPE html>
<html lang="en-us">

    <head>
        <title>DemoDRA - Current Weather</title>

        <link rel="stylesheet" href="/built/css/default.css" />

        <script src="/bower_components/angular/angular.js"></script>
        <script src="/bower_components/angular-route/angular-route.js"></script>
        <script src="/js/controllers.js"></script>
    </head>

    <body>
        <div float="left">
            <% include includes/mainbody %>
        </div>
        <div id="map" style="width:70%; height:70%"></div>
    </body>

    <script>
         angular.element(document).ready(function() {
            angular.bootstrap(document, ['ConsoleModule']);
        });
    </script>
    
    		<script>
      		var map;
          	var geocoder;
          	var i = 0;
     		function initMap() {
     			geocoder = new google.maps.Geocoder();
     		   	map = new google.maps.Map(document.getElementById('map'), {
       		   	 center: {lat: -37.786866, lng: 175.318073},
          	 	zoom: 10
        		});
			}
			function createMark(){
				var city = document.getElementById('zip1').value;
				geocoder.geocode({'address': city + ', NZ'}, function(results,status){
        			if (status == "OK"){
        				var marker1 = new google.maps.Marker({position: results[0].geometry.location});
        				if (i > 0){
							marker1.setMap(null);
						}
						marker1.setMap(map);
						i = i + 1;
					}
				});
			}
			function createMark2(){
				var city = document.getElementById('zip2').value;
				geocoder.geocode({'address': city + ', NZ'}, function(results,status){
        			if (status == "OK"){
        				var marker2 = new google.maps.Marker({position: results[0].geometry.location});
						marker2.setMap(map);
					}
				});
			}
			function createMark3(){
				var city = document.getElementById('zip3').value;
				geocoder.geocode({'address': city + ', NZ'}, function(results,status){
        			if (status == "OK"){
        				var marker3 = new google.maps.Marker({position: results[0].geometry.location});
						marker3.setMap(map);
					}
				});
			}
			function createMark4(){
				var city = document.getElementById('zip4').value;
				geocoder.geocode({'address': city + ', NZ'}, function(results,status){
        			if (status == "OK"){
        				var marker4 = new google.maps.Marker({position: results[0].geometry.location});
						marker4.setMap(map);
					}
				});
			}
    		</script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCI46l5ThhLsy8cali5JprGNsn6PPoY_y0&callback=initMap"
    async defer></script>

</html>